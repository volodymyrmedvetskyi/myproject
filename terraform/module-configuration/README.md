# Робота з основним файлом Terraform
Terraform конфігурація була розширена шляхом використання модулів для кожного логічного ресурсу. Наявна проста конфігурація була розподілена на наступні модулі:
* network
* security
* servers
* monitoring

Стан інфраструктури буде зберігатись у віддаленому сховищі S3 бакеті, який потрібно створити попередньо.

Для визначення AMI серверів використовується data source для автоматичного визначення AMI на основі вказаних критеріїв.
## Prerequisites
Для успішного запуску модуля необхідно:
* мати сконфігурований та піднятий S3 бакет та таблицю DynamoDB, їх конфігурацію вказати у блоці terraform backend
* встановити з'єднання з AWS акаунтом будь-яким зручним способом (aws cli, експорт змінних, тощо)
* значення змінних вказати у файлі terraform.tfvars
## Використання модулів
В основному файлі main.tf необхідно описати кожний модуль.
Для кожного конкретного модуля значення source буде приймати власне значення. Наприклад, для модулю network значення source наступне: .modules/network

В кожному окремому модулі необхідно перелічити всі вказані змінні з модулю. Значення цих змінних запусуються в окремі змінні для основного файлу Terraform, а значення цих змінних у файлі terraform.tfvars

Файл стану інфраструктури (terraform.tfstate) буде зберігатись у віддаленому сховищі S3 автоматично.